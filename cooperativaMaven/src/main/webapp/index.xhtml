<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	>
	
	<h:head>
	</h:head>
	
	<h:body>
		<h:form>
		<p:growl id="growl1"/>
			<p:wizard>
				<p:tab title="Informacion Basica">
					<h:panelGrid columns="2">
						<p:outputLabel value="Nombre" />
						<p:inputText value="#{resgistroMb.persona.nombres}"/>
						<p:outputLabel value="Apellidos"/>
						<p:inputText value="#{resgistroMb.persona.apellidos}"/>
						<p:outputLabel value="Documento" />
						<p:inputText value="#{resgistroMb.persona.numeroDocumento}"/>
						<p:outputLabel value="Es cliente" />
						<p:inputText value="#{resgistroMb.cliente.esMiembro}"/>
					</h:panelGrid>
				</p:tab>
				
				<p:tab title="Direcciones">
					<p:dataTable widgetVar="direcciones" id="direcciones" var="dir" value="#{resgistroMb.listDirCliente}" editable="true">
						<f:facet name="header"> Direcciones </f:facet>
						<p:column>
							<p:cellEditor>
								<f:facet name="output"> <h:outputText value="#{dir.direccion}"></h:outputText> </f:facet>
								<f:facet name="input"> <p:inputText value="#{dir.direccion}"> </p:inputText> </f:facet>
							</p:cellEditor>
						</p:column>
						<p:column>
							<p:rowEditor />
						</p:column>
					</p:dataTable>
					<p:commandButton value="A単adir fila" process="@this" action="#{resgistroMb.addDireccion}" oncomplete="PF('direcciones').addRow();" />
				</p:tab>
				
				<p:tab title="Telefonos">
					<p:dataTable widgetVar="telefonos" id="telefonos" var="tel" value="#{resgistroMb.telLitCliente}" editable="true">
						<f:facet name="header"> Telefonos </f:facet>
						<p:column headerText="Telefonos">
							<p:cellEditor>
								<f:facet name="output"> <h:outputText value="#{tel.telefono}"></h:outputText> </f:facet>
								<f:facet name="input"> <p:inputText value="#{tel.telefono}"> </p:inputText> </f:facet>
							</p:cellEditor>
						</p:column>
						<p:column>
							<p:rowEditor />
						</p:column>
					</p:dataTable>
					<p:commandButton value="A単adir fila" process="@this" action="#{resgistroMb.addTelefonoCliente}" oncomplete="PF('telefonos').addRow();" />
				</p:tab>
				
				<p:tab title="Referencias">
					<p:dataTable widgetVar="referencias" id="referencias" var="ref" value="#{resgistroMb.referencias}" editable="true">
						<f:facet name="header"> Referencias </f:facet>
						<p:column headerText="Nombre">
							<p:cellEditor>
								<f:facet name="output"> <h:outputText value="#{ref.nombre}"></h:outputText> </f:facet>
								<f:facet name="input"> <p:inputText value="#{ref.nombre}"> </p:inputText> </f:facet>
							</p:cellEditor>
						</p:column>
						<p:column headerText="Apellido">
							<p:cellEditor>
								<f:facet name="output"> <h:outputText value="#{ref.apellidos}"></h:outputText> </f:facet>
								<f:facet name="input"> <p:inputText value="#{ref.apellidos}"> </p:inputText> </f:facet>
							</p:cellEditor>
						</p:column>
						<p:column headerText="N Documento">
							<p:cellEditor>
								<f:facet name="output"> <h:outputText value="#{ref.numeroDocumento}"></h:outputText> </f:facet>
								<f:facet name="input"> <p:inputText value="#{ref.numeroDocumento}"> </p:inputText> </f:facet>
							</p:cellEditor>
						</p:column>
						<p:column headerText="Tiempo conocerse">
							<p:cellEditor>
								<f:facet name="output"> <h:outputText value="#{ref.tiempoconocerse}"></h:outputText> </f:facet>
								<f:facet name="input"> <p:inputText value="#{ref.tiempoconocerse}"> </p:inputText> </f:facet>
							</p:cellEditor>
						</p:column>
						
						
						<p:column>
							<p:rowEditor />
						</p:column>
					</p:dataTable>
					<p:commandButton value="A単adir fila" process="@this" action="#{resgistroMb.addReferencia}" oncomplete="PF('referencias').addRow();" />
				</p:tab>
				
				<p:tab title="Beneficiarios">
					<p:dataTable widgetVar="beneficiarios" id="beneficiarios" var="ben" value="#{resgistroMb.beneficiarios}" editable="true">
						<f:facet name="header"> Beneficiarios </f:facet>
						<p:column headerText="Nombres">
							<p:cellEditor>
								<f:facet name="output"> <h:outputText value="#{ben.nombre}"></h:outputText> </f:facet>
								<f:facet name="input"> <p:inputText value="#{ben.nombre}"> </p:inputText> </f:facet>
							</p:cellEditor>
						</p:column>
						<p:column headerText="Apellidos">
							<p:cellEditor>
								<f:facet name="output"> <h:outputText value="#{ben.apellidos}"></h:outputText> </f:facet>
								<f:facet name="input"> <p:inputText value="#{ben.apellidos}"> </p:inputText> </f:facet>
							</p:cellEditor>
						</p:column>
						<p:column headerText="N Documento">
							<p:cellEditor>
								<f:facet name="output"> <h:outputText value="#{ben.numeroDocumento}"></h:outputText> </f:facet>
								<f:facet name="input"> <p:inputText value="#{ben.numeroDocumento}"> </p:inputText> </f:facet>
							</p:cellEditor>
						</p:column>
						<p:column headerText="Edad">
							<p:cellEditor>
								<f:facet name="output"> <h:outputText value="#{ben.edad}"></h:outputText> </f:facet>
								<f:facet name="input"> <p:inputText value="#{ben.edad}"> </p:inputText> </f:facet>
							</p:cellEditor>
						</p:column>
						<p:column headerText="Parentesco">
							<p:cellEditor>
								<f:facet name="output"> <h:outputText value="#{ben.parentesco}"></h:outputText> </f:facet>
								<f:facet name="input"> <p:inputText value="#{ben.parentesco}"> </p:inputText> </f:facet>
							</p:cellEditor>
						</p:column>
						
						<p:column headerText="Porcentaje">
							<p:cellEditor>
								<f:facet name="output"> <h:outputText value="#{ben.porcentaje}"></h:outputText> </f:facet>
								<f:facet name="input"> <p:inputText value="#{ben.porcentaje}"> </p:inputText> </f:facet>
							</p:cellEditor>
						</p:column>
						
						<p:column>
							<p:rowEditor />
						</p:column>
					</p:dataTable>
					<p:commandButton value="A単adir fila" process="@this" action="#{resgistroMb.addBeneficiarios}" oncomplete="PF('beneficiarios').addRow();" />
					<p:commandButton value="Guardar" process="@this" action="#{resgistroMb.insertCliente}" update="growl1"/>
				</p:tab>
				
			</p:wizard>
		</h:form>
		
		<h:form>
			<p:commandButton value="ir a cuentas" action="#{resgistroMb.iraCuentas}"></p:commandButton>
		</h:form>
		
	</h:body>
	
</html>
